# Инструкция по переносу сайта на Reg.ru

## Проблема
Сайт amgautotrade.ru размещен на GitHub Pages + Cloudflare, что блокируется в России.
- Домен: amgautotrade.ru (зарегистрирован на Reg.ru)
- Текущие IP: 172.67.196.214, 104.21.92.176 (Cloudflare)
- Решение: перенос на российский хостинг Reg.ru

---

## Шаг 1: Покупка хостинга на Reg.ru

1. Войдите в личный кабинет Reg.ru: https://www.reg.ru/user/login
2. Перейдите в раздел "Хостинг" → "Заказать хостинг"
3. Выберите тариф:
   - **"Старт"** (150₽/мес) - подходит для вашего сайта
   - Или **"Оптимум"** (200₽/мес) - если нужно больше места
4. При заказе укажите домен: **amgautotrade.ru**
5. Оплатите хостинг

---

## Шаг 2: Подготовка файлов для загрузки

### Что нужно загрузить на хостинг:

```
Корневая папка (public_html):
├── index.html
├── catalog.html
├── services.html
├── contacts.html
├── privacy.html
├── personal-data.html
├── robots.txt
├── sitemap.xml
├── yandex_28fb36dd78e9a8bc.html
├── cars.json
├── cars-summary.json
├── images/
│   ├── logo.png
│   ├── hero-bg.jpg
│   ├── order-bg.jpg
│   ├── brands/
│   └── services/
└── .github/ (НЕ загружать на хостинг!)
```

---

## Шаг 3: Загрузка файлов на Reg.ru

### Вариант А: Через веб-интерфейс (проще)

1. Войдите в панель управления хостингом Reg.ru
2. Найдите "Файловый менеджер" или "File Manager"
3. Откройте папку `public_html` (или `www`)
4. Удалите все файлы по умолчанию (index.html, если есть)
5. Загрузите все файлы из вашего проекта:
   - Перетащите файлы в браузер
   - Или используйте кнопку "Загрузить"
6. Убедитесь, что структура папок сохранена

### Вариант Б: Через FTP (быстрее для больших файлов)

1. В панели Reg.ru найдите раздел "FTP-доступ"
2. Запишите данные:
   - **Хост**: ftp.amgautotrade.ru (или указанный в панели)
   - **Логин**: ваш логин FTP
   - **Пароль**: ваш пароль FTP
   - **Порт**: 21

3. Скачайте FTP-клиент:
   - **Windows**: FileZilla (https://filezilla-project.org/)
   - **Mac**: Cyberduck (https://cyberduck.io/) или FileZilla

4. Подключитесь к FTP:
   - Откройте FileZilla/Cyberduck
   - Введите данные FTP
   - Нажмите "Подключиться"

5. Загрузите файлы:
   - Слева: ваш компьютер (папка `/Users/nasty/Projects/amgautotrade`)
   - Справа: сервер (папка `public_html`)
   - Перетащите все файлы и папки из левой части в правую
   - **НЕ загружайте папку `.github/`**

---

## Шаг 4: Настройка SSL (HTTPS)

1. В панели Reg.ru найдите раздел "SSL-сертификаты"
2. Выберите "Бесплатный Let's Encrypt"
3. Установите для домена `amgautotrade.ru`
4. Подождите 5-10 минут для активации
5. Включите принудительное перенаправление HTTP → HTTPS

---

## Шаг 5: Переключение DNS с Cloudflare на Reg.ru

### ВАЖНО: Сайт будет недоступен 1-24 часа, пока обновятся DNS

1. Войдите в Cloudflare: https://dash.cloudflare.com/
2. Выберите домен `amgautotrade.ru`
3. Перейдите в "DNS" → "Records"
4. **Вариант А (отключить Cloudflare полностью):**
   - Перейдите в "Overview" → "Advanced Actions"
   - Нажмите "Remove Site from Cloudflare"

   **Вариант Б (изменить DNS):**
   - Найдите A-записи для `@` и `www`
   - Удалите текущие записи (172.67.196.214, 104.21.92.176)
   - Добавьте новые A-записи с IP Reg.ru (найдете в панели Reg.ru)

5. **В панели Reg.ru:**
   - Перейдите в "Домены" → "amgautotrade.ru"
   - Выберите "DNS-серверы и зона"
   - Убедитесь, что используются DNS Reg.ru:
     - `ns1.reg.ru`
     - `ns2.reg.ru`
   - В настройках DNS-зоны проверьте A-записи:
     - `@` (amgautotrade.ru) → IP вашего хостинга
     - `www` → IP вашего хостинга

6. Сохраните изменения и подождите 1-24 часа

---

## Шаг 6: Проверка работы сайта

1. Через 1-2 часа после изменения DNS проверьте:
   ```bash
   nslookup amgautotrade.ru
   ```
   Должен показать новый IP от Reg.ru (не Cloudflare)

2. Откройте в браузере (без VPN):
   - https://amgautotrade.ru
   - https://www.amgautotrade.ru

3. Проверьте все страницы:
   - Главная (index.html)
   - Каталог (catalog.html)
   - Услуги (services.html)
   - Контакты (contacts.html)

4. Проверьте изображения и стили

---

## Шаг 7 (опционально): Автодеплой с GitHub

Если хотите автоматически обновлять сайт при изменении в GitHub:

### Вариант А: GitHub Actions + FTP

1. В Reg.ru создайте отдельный FTP-аккаунт для деплоя
2. В GitHub перейдите в Settings → Secrets → Actions
3. Добавьте секреты:
   - `FTP_SERVER`: ftp.amgautotrade.ru
   - `FTP_USERNAME`: ваш FTP логин
   - `FTP_PASSWORD`: ваш FTP пароль

4. Создайте файл `.github/workflows/deploy.yml` (я создам его далее)

### Вариант Б: Webhook (если Reg.ru поддерживает)

1. Настройте webhook в панели Reg.ru
2. Привяжите к репозиторию GitHub

---

## Возможные проблемы и решения

### Проблема 1: Сайт не открывается после переноса
**Решение**: Проверьте, что файлы находятся в папке `public_html`, а не в подпапке

### Проблема 2: Изображения не загружаются
**Решение**: Убедитесь, что папка `images/` загружена полностью со всеми подпапками

### Проблема 3: Ошибка "403 Forbidden"
**Решение**: Проверьте права доступа к файлам (должно быть 644 для файлов, 755 для папок)

### Проблема 4: DNS не обновляется
**Решение**: Подождите 24 часа. Можно очистить DNS-кэш:
- Windows: `ipconfig /flushdns`
- Mac: `sudo dscacheutil -flushcache`

---

## Контакты поддержки

- **Reg.ru поддержка**: https://www.reg.ru/support/
- **Телефон**: 8-800-505-35-75
- **Email**: support@reg.ru

---

## Что дальше?

После успешного переноса:
1. Сайт будет доступен из России без VPN
2. Скорость загрузки улучшится для российских пользователей
3. Можно настроить автообновление через GitHub Actions
4. Рекомендую настроить резервное копирование в панели Reg.ru

---

*Создано для проекта amgautotrade.ru*
